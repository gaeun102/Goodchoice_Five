package com.five.goodchoice.acomodation.controller;

import java.util.*;

import javax.servlet.http.HttpServletRequest;

import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.PathVariable;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestParam;

import com.five.goodchoice.util.Myutil;

@Controller
public class AcomodationController {
	
	// 모텔 View	
	
	@GetMapping("/acomodation/search/{category_no}/{district_no}")
	public String acomodation_view_motel(HttpServletRequest request, @PathVariable String category_no, @PathVariable String district_no
										, @RequestParam(name="sort", required = false, defaultValue="DISTANCE") String sort) {

		// default 값은 아래와 같다.
		// https://www.goodchoice.kr/product/search/1/7052?sort=DISTANCE&check_in_date=2023-05-25&check_out_date=2023-05-26&min_price=10000&max_price=300000
		// 7052는 서울의 강남/역삼/삼성/논현 와 같은 데이터를 의미하고
		// check_in_date 는 체크인 날짜 check_out_date 는 체크아웃 날짜를 의미한다. default 는 오늘과 내일 1박2일이다.
		// min_price 는 최소금액 max_price 는 최대금액을 의미한다.
		// DISTANCE 는 거리순을 의미한다.
		
		
		String check_in_date = request.getParameter("check_in_date"); 
		String check_out_date = request.getParameter("check_in_date");
		String min_price = request.getParameter("min_price"); 
		String max_price = request.getParameter("max_price");
		
		
		if(Myutil.check_Invalid_String(min_price) || Myutil.check_Invalid_String(max_price)){
			min_price = "10000";
			max_price = "300000";			
		}
		
		if(Myutil.check_Invalid_String(check_in_date) || Myutil.check_Invalid_String(check_out_date)) {
			check_in_date = Myutil.getDefaultCheckInDate();
			check_out_date = Myutil.getDefaultCheckOutDate();
		}
		 	
		
		Map<String, String> filter_condition_Map = new HashMap<>();
		
		filter_condition_Map.put("category_no", category_no); // 호텔, 모텔, 펜션
		filter_condition_Map.put("district_no", district_no); // 지역구명: 강남구, 송파구
		filter_condition_Map.put("min_price", min_price); // 객실 최소값
		filter_condition_Map.put("max_price", max_price); // 객실 최대값
		filter_condition_Map.put("check_in_date", check_in_date); // 예약 체크인 시간
		filter_condition_Map.put("check_out_date", check_out_date); // 예약 체크아웃 시간
		
			
		
		
		return "acomodation/acom_content.tiles2";
	}
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	// 업소 등록
	@RequestMapping(value="/hostRegister.gc") 
	public String hostRegister() {
		return "host/accommodations_register.tiles3";
	}
	
	
	// 업소 정보 수정
	@RequestMapping(value="/hostEdit.gc") 
	public String hostEdit() {
		return "host/accommodations_edit.tiles3";
	}
}
